(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(18)},18:function(e,t,a){"use strict";a.r(t);var n=a(10),s=a(11),r=a(15),i=a(12),c=a(16),l=a(2),h=a(0),u=a.n(h),o=a(13),d=a.n(o),m=a(14),p=a.n(m),v=(a(43),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).state={searchString:"",results:{items:[]}},a.handleChange=a.handleChange.bind(Object(l.a)(Object(l.a)(a))),a.handleEnter=a.handleEnter.bind(Object(l.a)(Object(l.a)(a))),a.setWrapperRef=a.setWrapperRef.bind(Object(l.a)(Object(l.a)(a))),a.handleClickOutside=a.handleClickOutside.bind(Object(l.a)(Object(l.a)(a))),a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&this.setState({results:{items:[]}})}},{key:"handleChange",value:function(e){var t=this;this.setState({searchString:e.target.value}),e.target.value.length<3?this.setState({results:{items:[]}}):p.a.get("http://new.stocvetov.ru/dev/search.php?query_string=".concat(e.target.value)).then(function(e){var a=e.data;t.setState({results:a})})}},{key:"handleEnter",value:function(e){13===e.keyCode&&(window.location.href="/catalog-of-product/?search_string=".concat(this.state.searchString))}},{key:"render",value:function(){var e=4===this.state.results.items.length&&this.state.results.total>4?"":"hidden",t="";return this.state.results.items.length>0&&(t=u.a.createElement("ul",{className:"live-search__list"},this.state.results.items.map(function(e,t){return u.a.createElement("li",{key:t,className:"live-search__list__item"},u.a.createElement("a",{href:e.url},u.a.createElement("div",{className:"live-search__list__item__image"},u.a.createElement("img",{alt:"",src:"http://new.stocvetov.ru".concat(e.image)})),u.a.createElement("div",{className:"live-search__list__item__name"},e.name),u.a.createElement("div",{className:"live-search__list__item__price"},e.price,"\xa0\u20bd")))}),u.a.createElement("li",{className:e},u.a.createElement("a",{href:"/catalog-of-product/?search_string=".concat(this.state.searchString)},"\u0412\u0441\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b")))),u.a.createElement("div",{className:"live-search__container",ref:this.setWrapperRef},u.a.createElement("input",{className:"search__string",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0441\u0430\u0439\u0442\u0443...",type:"text",name:"search_string",value:this.state.searchString,onChange:this.handleChange,onKeyUp:this.handleEnter}),u.a.createElement("div",null,t))}}]),t}(u.a.Component)),_=document.getElementById("live-search");d.a.render(u.a.createElement(v,null),_)},43:function(e,t,a){}},[[17,1,2]]]);